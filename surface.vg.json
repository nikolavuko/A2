{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "values": [
      {"Type": "Grand Slam", "Surface": "Hard", "Tournaments": 2},
      {"Type": "Grand Slam", "Surface": "Clay", "Tournaments": 1},
      {"Type": "Grand Slam", "Surface": "Grass", "Tournaments": 1},
      {"Type": "ATP 1000", "Surface": "Hard", "Tournaments": 5},
      {"Type": "ATP 1000", "Surface": "Clay", "Tournaments": 3},
      {"Type": "ATP 1000", "Surface": "Grass", "Tournaments": 0},
      {"Type": "ATP 500", "Surface": "Hard", "Tournaments": 5},
      {"Type": "ATP 500", "Surface": "Clay", "Tournaments": 3},
      {"Type": "ATP 500", "Surface": "Grass", "Tournaments": 2},
      {"Type": "ATP 250", "Surface": "Hard", "Tournaments": 15},
      {"Type": "ATP 250", "Surface": "Clay", "Tournaments": 9},
      {"Type": "ATP 250", "Surface": "Grass", "Tournaments": 4}
    ]
  },
  "params": [
    {
      "name": "typeSelection",
      "value": "All",
      "bind": {
        "input": "select",
        "options": ["All", "Grand Slam", "ATP 1000", "ATP 500", "ATP 250"],
        "name": "Tournament Type: "
      }
    }
  ],
  "transform": [
    {
      "filter": "typeSelection == 'All' || datum.Type == typeSelection"
    }
  ],
  "mark": {"type": "arc", "innerRadius": 50},
  "encoding": {
    "theta": {"field": "Tournaments", "type": "quantitative", "stack": true},
    "color": {
      "field": "Surface",
      "type": "nominal",
      "scale": {
        "domain": ["Hard", "Clay", "Grass"],
        "range": ["#1f77b4", "#ff7f0e", "#2ca02c"]
      },
      "title": "Surface"
    },
    "tooltip": [
      {"field": "Type", "type": "nominal", "title": "Tournament Type"},
      {"field": "Surface", "type": "nominal"},
      {"field": "Tournaments", "type": "quantitative"}
    ]
  },
  "view": {"stroke": null}
}
